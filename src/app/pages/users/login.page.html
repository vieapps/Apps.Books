<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-button (click)="configSvc.navigateBackAsync()">
				<ion-icon name="close" slot="icon-only"></ion-icon>
			</ion-button>
		</ion-buttons>
		<ion-title>
			{{ title }}
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content padding>

	<div *ngIf="mode === 'login'">
		<app-form
			[form]="login.form"
			[config]="login.config"
			[controls]="login.controls"></app-form>
		<ion-buttons padding-horizontal>
			<ion-button [fill]="login.button.fill" [color]="login.button.color" (click)="logInAsync()">
				<ion-icon *ngIf="login.button.icon" [icon]="login.button.icon" slot="start"></ion-icon>
				{{ login.button.label }}
			</ion-button>
			<ion-button [fill]="reset.button.fill" [color]="reset.button.color" (click)="openResetPasswordAsync()">
				<ion-icon *ngIf="reset.button.icon" [icon]="reset.button.icon" slot="start"></ion-icon>
				{{ reset.button.label }}
			</ion-button>
		</ion-buttons>
	</div>

	<div *ngIf="mode === 'otp'">
		<app-form
			[form]="otp.form"
			[config]="otp.config"
			[controls]="otp.controls"
			[value]="otp.value"></app-form>
		<ion-buttons padding-horizontal>
			<ion-button [fill]="otp.button.fill" [color]="otp.button.color" (click)="logInOTPAsync()">
				<ion-icon *ngIf="otp.button.icon" [icon]="otp.button.icon" slot="start"></ion-icon>
				{{ otp.button.label }}
			</ion-button>
		</ion-buttons>
	</div>

	<div *ngIf="mode === 'reset'">
		<app-form
			[form]="reset.form"
			[config]="reset.config"
			[controls]="reset.controls"
			(initEvent)="onResetPasswordFormInitialized($event)"
			(refreshCaptchaEvent)="onRefreshCaptcha($event)"></app-form>
		<ion-buttons padding-horizontal>
			<ion-button [fill]="reset.button.fill" [color]="reset.button.color" (click)="resetPasswordAsync()">
				<ion-icon *ngIf="reset.button.icon" [icon]="reset.button.icon" slot="start"></ion-icon>
				{{ reset.button.label }}
			</ion-button>
		</ion-buttons>
	</div>

</ion-content>